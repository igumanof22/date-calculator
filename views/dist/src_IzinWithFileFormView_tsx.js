"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkmockapi_view"] = self["webpackChunkmockapi_view"] || []).push([["src_IzinWithFileFormView_tsx"],{

/***/ "./src/IzinWithFileFormView.tsx":
/*!**************************************!*\
  !*** ./src/IzinWithFileFormView.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IzinWithFileFormView)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hook-form */ \"webpack/sharing/consume/default/react-hook-form/react-hook-form\");\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_hook_form__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! alurkerja-ui */ \"./node_modules/alurkerja-ui/dist/alurkerja-ui.js\");\n/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dropzone */ \"./node_modules/react-dropzone/dist/es/index.js\");\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\n\n\n\n\nfunction IzinWithFileFormView({\n  props,\n  alurkerjaParams\n}) {\n  const {\n    control,\n    watch,\n    setValue\n  } = props.form;\n  const [fileError, setFileError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n\n  // Watch values for calculations\n  const tanggalMulai = watch('tanggalMulai');\n  const tanggalSelesai = watch('tanggalSelesai');\n  const pilihJam = watch('pilihJam') || false;\n  const jamMulai = watch('jamMulai');\n  const jamSelesai = watch('jamSelesai');\n\n  // Calculate minimum date allowed\n  const getMinDate = () => {\n    const now = new Date();\n    const currentHour = now.getHours();\n    const currentMinute = now.getMinutes();\n\n    // If current time is after 16:30, start from tomorrow\n    if (currentHour >= 17 || currentHour === 16 && currentMinute >= 30) {\n      const tomorrow = new Date(now);\n      tomorrow.setDate(tomorrow.getDate() + 1);\n      return tomorrow.toISOString().split('T')[0];\n    }\n\n    // Otherwise, start from today\n    return now.toISOString().split('T')[0];\n  };\n  const minDate = getMinDate();\n\n  // Generate time options (08:00 - 17:00, every 30 minutes)\n  // useMemo to recalculate when tanggalMulai changes\n  const jamMulaiOptions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const generateTimeOptions = () => {\n      const times = [];\n      let currentHour;\n      let currentMinute;\n\n      // Check if selected date is today\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      let isToday = false;\n      if (tanggalMulai) {\n        const selectedDate = new Date(tanggalMulai);\n        // Compare only year, month, and day\n        isToday = selectedDate.getFullYear() === today.getFullYear() && selectedDate.getMonth() === today.getMonth() && selectedDate.getDate() === today.getDate();\n      }\n      if (isToday) {\n        // Start from current time rounded to next 30-minute interval\n        const nowHour = now.getHours();\n        const nowMinute = now.getMinutes();\n\n        // Round up to next 30-minute interval\n        if (nowMinute <= 30) {\n          currentHour = nowHour;\n          currentMinute = 30;\n        } else {\n          currentHour = nowHour + 1;\n          currentMinute = 0;\n        }\n\n        // If current time is after 17:00 or before 08:00, start from 08:00\n        if (currentHour < 8 || currentHour > 17) {\n          currentHour = 8;\n          currentMinute = 0;\n        }\n      } else {\n        // For other dates (past or future), start from 08:00\n        currentHour = 8;\n        currentMinute = 0;\n      }\n      while (currentHour <= 17) {\n        if (currentHour === 17 && currentMinute > 0) break;\n        times.push(`${String(currentHour).padStart(2, '0')}:${String(currentMinute).padStart(2, '0')}`);\n        currentMinute += 30;\n        if (currentMinute >= 60) {\n          currentMinute = 0;\n          currentHour += 1;\n        }\n      }\n      return times;\n    };\n    return generateTimeOptions();\n  }, [tanggalMulai]); // Re-calculate when tanggalMulai changes\n\n  // Generate jam selesai options based on jam mulai\n  const jamSelesaiOptions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (!jamMulai) return [];\n    const times = [];\n    const startHour = parseInt(jamMulai.split(':')[0]);\n    const startMinute = parseInt(jamMulai.split(':')[1]);\n    let currentHour = startHour;\n    let currentMinute = startMinute === 0 ? 30 : 0;\n    if (currentMinute === 0) {\n      currentHour += 1;\n    }\n    while (currentHour <= 17) {\n      if (currentHour === 17 && currentMinute > 0) break;\n      times.push(`${String(currentHour).padStart(2, '0')}:${String(currentMinute).padStart(2, '0')}`);\n      currentMinute += 30;\n      if (currentMinute >= 60) {\n        currentMinute = 0;\n        currentHour += 1;\n      }\n    }\n    return times;\n  }, [jamMulai]); // Re-calculate when jamMulai changes\n\n  // Reset jamMulai if current selection is not available in new options\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (pilihJam && jamMulai && !jamMulaiOptions.includes(jamMulai)) {\n      setValue('jamMulai', '');\n      setValue('jamSelesai', '');\n    }\n  }, [tanggalMulai, jamMulaiOptions, jamMulai, pilihJam, setValue]);\n\n  // Reset jamSelesai if current selection is not available in new options\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (pilihJam && jamSelesai && !jamSelesaiOptions.includes(jamSelesai)) {\n      setValue('jamSelesai', '');\n    }\n  }, [jamMulai, jamSelesaiOptions, jamSelesai, pilihJam, setValue]);\n\n  // Calculate duration\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!pilihJam) {\n      // Calculate based on dates\n      if (tanggalMulai && tanggalSelesai) {\n        const start = new Date(tanggalMulai);\n        const end = new Date(tanggalSelesai);\n\n        // Set time to start of day for accurate day calculation\n        start.setHours(0, 0, 0, 0);\n        end.setHours(0, 0, 0, 0);\n        const diffTime = Math.abs(end.getTime() - start.getTime());\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1; // +1 to include both start and end date\n        const diffHours = diffDays * 8; // Assuming 8 working hours per day\n\n        setValue('durasiJam', diffHours);\n        setValue('durasiHari', diffDays);\n      } else {\n        setValue('durasiJam', 0);\n        setValue('durasiHari', 0);\n      }\n    } else {\n      // Calculate based on time\n      if (jamMulai && jamSelesai && tanggalMulai && tanggalSelesai) {\n        const start = new Date(tanggalMulai);\n        const end = new Date(tanggalSelesai);\n        const [startHour, startMin] = jamMulai.split(':').map(Number);\n        const [endHour, endMin] = jamSelesai.split(':').map(Number);\n        start.setHours(startHour, startMin, 0, 0);\n        end.setHours(endHour, endMin, 0, 0);\n        const diffTime = Math.abs(end.getTime() - start.getTime());\n        let diffHours = diffTime / (1000 * 60 * 60); // Convert to hours\n\n        // Subtract 1 hour for lunch break (istirahat)\n        diffHours = Math.max(0, diffHours - 1);\n        setValue('durasiJam', Math.round(diffHours * 10) / 10); // Round to 1 decimal\n        setValue('durasiHari', 0);\n      } else {\n        setValue('durasiJam', 0);\n        setValue('durasiHari', 0);\n      }\n    }\n  }, [tanggalMulai, tanggalSelesai, pilihJam, jamMulai, jamSelesai, setValue]);\n\n  // Reset jam fields when switch changes and auto-set tanggalSelesai\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!pilihJam) {\n      setValue('jamMulai', '');\n      setValue('jamSelesai', '');\n    } else {\n      // When Pilih Jam = Ya, set tanggalSelesai = tanggalMulai\n      if (tanggalMulai) {\n        setValue('tanggalSelesai', tanggalMulai);\n      }\n    }\n  }, [pilihJam, tanggalMulai, setValue]);\n\n  // File validation function\n  const validateFile = file => {\n    // Allowed file types\n    const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'application/msword',\n    // .doc\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document' // .docx\n    ];\n    const allowedExtensions = ['.pdf', '.jpg', '.jpeg', '.png', '.gif', '.webp', '.doc', '.docx'];\n\n    // Check file type\n    if (!allowedTypes.includes(file.type)) {\n      // Check by extension if MIME type check fails\n      const fileExtension = file.name.toLowerCase().substring(file.name.lastIndexOf('.'));\n      if (!allowedExtensions.includes(fileExtension)) {\n        return 'Tipe file tidak valid. Hanya file PDF, gambar (JPG, PNG, GIF, WEBP), dan dokumen Word (DOC, DOCX) yang diperbolehkan.';\n      }\n    }\n\n    // Check file size (max 1MB)\n    const maxSize = 1 * 1024 * 1024; // 1MB in bytes\n    if (file.size > maxSize) {\n      return 'Ukuran file terlalu besar. Maksimal 1MB.';\n    }\n    return null;\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '1rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(2, 1fr)',\n      gap: '1rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Tanggal Mulai Izin \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      color: '#ef4444'\n    }\n  }, \"*\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"tanggalMulai\",\n    control: control,\n    rules: {\n      required: 'Tanggal mulai wajib diisi'\n    },\n    render: ({\n      field,\n      fieldState\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__.Input, _extends({\n      type: \"date\",\n      style: {\n        fontSize: '0.875rem',\n        width: '100%'\n      },\n      min: minDate\n    }, field)), fieldState.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#ef4444',\n        marginTop: '0.25rem'\n      }\n    }, fieldState.error.message))\n  })), !pilihJam && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Tanggal Selesai Izin \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      color: '#ef4444'\n    }\n  }, \"*\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"tanggalSelesai\",\n    control: control,\n    rules: {\n      required: !pilihJam ? 'Tanggal selesai wajib diisi' : false\n    },\n    render: ({\n      field,\n      fieldState\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__.Input, _extends({\n      type: \"date\",\n      style: {\n        fontSize: '0.875rem',\n        width: '100%'\n      },\n      min: tanggalMulai || minDate\n    }, field)), fieldState.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#ef4444',\n        marginTop: '0.25rem'\n      }\n    }, fieldState.error.message))\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Pilih Jam\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"pilihJam\",\n    control: control,\n    defaultValue: false,\n    render: ({\n      field\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '0.75rem'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      type: \"button\",\n      onClick: () => field.onChange(!field.value),\n      style: {\n        position: 'relative',\n        display: 'inline-flex',\n        height: '1.5rem',\n        width: '2.75rem',\n        alignItems: 'center',\n        borderRadius: '9999px',\n        transition: 'background-color 0.2s',\n        outline: 'none',\n        backgroundColor: field.value ? '#2563eb' : '#d1d5db',\n        border: 'none',\n        cursor: 'pointer'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      style: {\n        display: 'inline-block',\n        height: '1rem',\n        width: '1rem',\n        transform: field.value ? 'translateX(1.5rem)' : 'translateX(0.25rem)',\n        borderRadius: '9999px',\n        backgroundColor: 'white',\n        transition: 'transform 0.2s'\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      style: {\n        fontSize: '0.875rem',\n        color: '#374151'\n      }\n    }, field.value ? 'Ya' : 'Tidak'))\n  })), pilihJam && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(2, 1fr)',\n      gap: '1rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Jam Mulai Izin \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      color: '#ef4444'\n    }\n  }, \"*\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"jamMulai\",\n    control: control,\n    rules: {\n      required: pilihJam ? 'Jam mulai wajib diisi' : false\n    },\n    render: ({\n      field,\n      fieldState\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"select\", _extends({\n      key: `jam-mulai-${jamMulaiOptions.length}-${jamMulaiOptions[0] || 'empty'}`,\n      style: {\n        fontSize: '0.875rem',\n        width: '100%',\n        padding: '0.5rem 0.75rem',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.375rem',\n        outline: 'none'\n      }\n    }, field), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n      value: \"\"\n    }, \"Pilih jam mulai\"), jamMulaiOptions.map(time => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n      key: time,\n      value: time\n    }, time))), fieldState.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#ef4444',\n        marginTop: '0.25rem'\n      }\n    }, fieldState.error.message))\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Jam Selesai Izin \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      color: '#ef4444'\n    }\n  }, \"*\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"jamSelesai\",\n    control: control,\n    rules: {\n      required: pilihJam ? 'Jam selesai wajib diisi' : false\n    },\n    render: ({\n      field,\n      fieldState\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"select\", _extends({\n      key: `jam-selesai-${jamSelesaiOptions.length}-${jamSelesaiOptions[0] || 'empty'}`,\n      style: {\n        fontSize: '0.875rem',\n        width: '100%',\n        padding: '0.5rem 0.75rem',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.375rem',\n        outline: 'none'\n      }\n    }, field, {\n      disabled: !jamMulai\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n      value: \"\"\n    }, \"Pilih jam selesai\"), jamSelesaiOptions.map(time => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n      key: time,\n      value: time\n    }, time))), fieldState.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#ef4444',\n        marginTop: '0.25rem'\n      }\n    }, fieldState.error.message))\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(2, 1fr)',\n      gap: '1rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Durasi Izin (Jam)\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"durasiJam\",\n    control: control,\n    render: ({\n      field\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__.Input, _extends({\n      type: \"number\",\n      style: {\n        fontSize: '0.875rem',\n        width: '100%',\n        backgroundColor: '#f9fafb'\n      },\n      disabled: true\n    }, field, {\n      value: field.value || 0\n    })), pilihJam && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#6b7280',\n        marginTop: '0.25rem'\n      }\n    }, \"* Sudah dikurangi 1 jam istirahat\"))\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Durasi Izin (Hari)\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"durasiHari\",\n    control: control,\n    render: ({\n      field\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__.Input, _extends({\n      type: \"number\",\n      style: {\n        fontSize: '0.875rem',\n        width: '100%',\n        backgroundColor: '#f9fafb'\n      },\n      disabled: true\n    }, field, {\n      value: field.value || 0\n    }))\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Upload Dokumen Pendukung \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      color: '#ef4444'\n    }\n  }, \"*\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"uploadedFile\",\n    control: control,\n    rules: {\n      required: 'File dokumen wajib diupload',\n      validate: value => {\n        if (!value) return 'File dokumen wajib diupload';\n        if (value instanceof File) {\n          const error = validateFile(value);\n          return error || true;\n        }\n        return true;\n      }\n    },\n    render: ({\n      field: {\n        onChange,\n        value\n      },\n      fieldState\n    }) => {\n      const onDrop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(acceptedFiles => {\n        if (acceptedFiles && acceptedFiles.length > 0) {\n          const file = acceptedFiles[0];\n          const error = validateFile(file);\n          if (error) {\n            setFileError(error);\n            onChange(null);\n          } else {\n            setFileError('');\n            onChange(file);\n          }\n        }\n      }, [onChange]);\n      const {\n        getRootProps,\n        getInputProps,\n        isDragActive\n      } = (0,react_dropzone__WEBPACK_IMPORTED_MODULE_3__.useDropzone)({\n        onDrop,\n        accept: {\n          'application/pdf': ['.pdf'],\n          'image/jpeg': ['.jpg', '.jpeg'],\n          'image/png': ['.png'],\n          'image/gif': ['.gif'],\n          'image/webp': ['.webp'],\n          'application/msword': ['.doc'],\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx']\n        },\n        maxFiles: 1,\n        maxSize: 1 * 1024 * 1024,\n        // 1MB\n        onDropRejected: fileRejections => {\n          const rejection = fileRejections[0];\n          if (rejection) {\n            const errors = rejection.errors.map(e => {\n              if (e.code === 'file-too-large') {\n                return 'Ukuran file terlalu besar. Maksimal 1MB.';\n              }\n              if (e.code === 'file-invalid-type') {\n                return 'Tipe file tidak valid. Hanya file PDF, gambar (JPG, PNG, GIF, WEBP), dan dokumen Word (DOC, DOCX) yang diperbolehkan.';\n              }\n              return e.message;\n            }).join(' ');\n            setFileError(errors);\n            onChange(null);\n          }\n        }\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", _extends({}, getRootProps(), {\n        style: {\n          border: `2px dashed ${isDragActive ? '#2563eb' : fieldState.error || fileError ? '#ef4444' : '#d1d5db'}`,\n          borderRadius: '0.375rem',\n          padding: '2rem',\n          textAlign: 'center',\n          cursor: 'pointer',\n          backgroundColor: isDragActive ? '#eff6ff' : '#f9fafb',\n          transition: 'all 0.2s'\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", getInputProps()), isDragActive ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n        style: {\n          fontSize: '0.875rem',\n          color: '#2563eb',\n          margin: 0\n        }\n      }, \"Drop file di sini...\") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '0.5rem',\n          alignItems: 'center'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n        style: {\n          width: '3rem',\n          height: '3rem',\n          color: '#9ca3af'\n        },\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n        style: {\n          fontSize: '0.875rem',\n          color: '#374151',\n          margin: 0\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n        style: {\n          color: '#2563eb',\n          fontWeight: '500'\n        }\n      }, \"Klik untuk upload\"), \" atau drag and drop\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n        style: {\n          fontSize: '0.75rem',\n          color: '#6b7280',\n          margin: 0\n        }\n      }, \"PDF, JPG, PNG, GIF, WEBP, DOC, DOCX (Max. 1MB)\"))), value && value instanceof File && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          marginTop: '0.75rem',\n          padding: '0.75rem',\n          backgroundColor: '#f0fdf4',\n          border: '1px solid #86efac',\n          borderRadius: '0.375rem',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem',\n          flex: 1\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n        style: {\n          width: '1.25rem',\n          height: '1.25rem',\n          color: '#16a34a',\n          flexShrink: 0\n        },\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          flex: 1,\n          minWidth: 0\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n        style: {\n          fontSize: '0.875rem',\n          color: '#166534',\n          fontWeight: '500',\n          margin: 0,\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap'\n        }\n      }, value.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n        style: {\n          fontSize: '0.75rem',\n          color: '#16a34a',\n          margin: 0\n        }\n      }, (value.size / 1024).toFixed(2), \" KB\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n        type: \"button\",\n        onClick: e => {\n          e.stopPropagation();\n          onChange(null);\n          setFileError('');\n        },\n        style: {\n          padding: '0.25rem',\n          backgroundColor: 'transparent',\n          border: 'none',\n          cursor: 'pointer',\n          color: '#dc2626',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n        style: {\n          width: '1.25rem',\n          height: '1.25rem'\n        },\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M6 18L18 6M6 6l12 12\"\n      })))), (fieldState.error || fileError) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n        style: {\n          fontSize: '0.75rem',\n          color: '#ef4444',\n          marginTop: '0.5rem',\n          margin: '0.5rem 0 0 0'\n        }\n      }, fieldState.error?.message || fileError));\n    }\n  })));\n}\n\n//# sourceURL=webpack://mockapi_view/./src/IzinWithFileFormView.tsx?");

/***/ })

}]);