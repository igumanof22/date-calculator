"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkmockapi_view"] = self["webpackChunkmockapi_view"] || []).push([["src_IzinWithFileFormView_tsx"],{

/***/ "./src/IzinWithFileFormView.tsx":
/*!**************************************!*\
  !*** ./src/IzinWithFileFormView.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IzinWithFileFormView)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?2186\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hook-form */ \"webpack/sharing/consume/default/react-hook-form/react-hook-form\");\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_hook_form__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! alurkerja-ui */ \"./node_modules/alurkerja-ui/dist/alurkerja-ui.js\");\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\n\n\n\nfunction IzinWithFileFormView({\n  props,\n  alurkerjaParams\n}) {\n  const {\n    control,\n    watch,\n    setValue\n  } = props.form;\n  const [fileError, setFileError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n\n  // Watch values for calculations\n  const tanggalMulai = watch('tanggalMulai');\n  const tanggalSelesai = watch('tanggalSelesai');\n  const pilihJam = watch('pilihJam') || false;\n  const jamMulai = watch('jamMulai');\n  const jamSelesai = watch('jamSelesai');\n  const uploadedFile = watch('uploadedFile');\n  const durasiJam = watch('durasiJam') || 0;\n  const durasiHari = watch('durasiHari') || 0;\n\n  // Calculate minimum date allowed\n  const getMinDate = () => {\n    const now = new Date();\n    const currentHour = now.getHours();\n    const currentMinute = now.getMinutes();\n\n    // If current time is after 16:30, start from tomorrow\n    if (currentHour >= 17 || currentHour === 16 && currentMinute >= 30) {\n      const tomorrow = new Date(now);\n      tomorrow.setDate(tomorrow.getDate() + 1);\n      return tomorrow.toISOString().split('T')[0];\n    }\n\n    // Otherwise, start from today\n    return now.toISOString().split('T')[0];\n  };\n  const minDate = getMinDate();\n\n  // Generate time options (08:00 - 17:00, every 30 minutes)\n  // useMemo to recalculate when tanggalMulai changes\n  const jamMulaiOptions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const generateTimeOptions = () => {\n      const times = [];\n      let currentHour;\n      let currentMinute;\n\n      // Check if selected date is today\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      let isToday = false;\n      if (tanggalMulai) {\n        const selectedDate = new Date(tanggalMulai);\n        // Compare only year, month, and day\n        isToday = selectedDate.getFullYear() === today.getFullYear() && selectedDate.getMonth() === today.getMonth() && selectedDate.getDate() === today.getDate();\n      }\n      if (isToday) {\n        // Start from current time rounded to next 30-minute interval\n        const nowHour = now.getHours();\n        const nowMinute = now.getMinutes();\n\n        // Round up to next 30-minute interval\n        if (nowMinute <= 30) {\n          currentHour = nowHour;\n          currentMinute = 30;\n        } else {\n          currentHour = nowHour + 1;\n          currentMinute = 0;\n        }\n\n        // If current time is after 17:00 or before 08:00, start from 08:00\n        if (currentHour < 8 || currentHour > 17) {\n          currentHour = 8;\n          currentMinute = 0;\n        }\n      } else {\n        // For other dates (past or future), start from 08:00\n        currentHour = 8;\n        currentMinute = 0;\n      }\n      while (currentHour <= 17) {\n        if (currentHour === 17 && currentMinute > 0) break;\n        if (currentHour === 12) {\n          currentHour += 1;\n          continue;\n        }\n        times.push(`${String(currentHour).padStart(2, '0')}:${String(currentMinute).padStart(2, '0')}`);\n        currentMinute += 30;\n        if (currentMinute >= 60) {\n          currentMinute = 0;\n          currentHour += 1;\n        }\n      }\n      return times;\n    };\n    return generateTimeOptions();\n  }, [tanggalMulai]); // Re-calculate when tanggalMulai changes\n\n  // Generate jam selesai options based on jam mulai\n  const jamSelesaiOptions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (!jamMulai) return [];\n    const times = [];\n    const startHour = parseInt(jamMulai.split(':')[0]);\n    const startMinute = parseInt(jamMulai.split(':')[1]);\n    let currentHour = startHour;\n    let currentMinute = startMinute === 0 ? 30 : 0;\n    if (currentMinute === 0) {\n      currentHour += 1;\n    }\n    while (currentHour <= 17) {\n      if (currentHour === 17 && currentMinute > 0) break;\n      if (currentHour === 12) {\n        currentHour += 1;\n        continue;\n      }\n      times.push(`${String(currentHour).padStart(2, '0')}:${String(currentMinute).padStart(2, '0')}`);\n      currentMinute += 30;\n      if (currentMinute >= 60) {\n        currentMinute = 0;\n        currentHour += 1;\n      }\n    }\n    return times;\n  }, [jamMulai]); // Re-calculate when jamMulai changes\n\n  // Reset jamMulai if current selection is not available in new options\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (pilihJam && jamMulai && !jamMulaiOptions.includes(jamMulai)) {\n      setValue('jamMulai', '');\n      setValue('jamSelesai', '');\n    }\n  }, [tanggalMulai, jamMulaiOptions, jamMulai, pilihJam, setValue]);\n\n  // Reset jamSelesai if current selection is not available in new options\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (pilihJam && jamSelesai && !jamSelesaiOptions.includes(jamSelesai)) {\n      setValue('jamSelesai', '');\n    }\n  }, [jamMulai, jamSelesaiOptions, jamSelesai, pilihJam, setValue]);\n\n  // Calculate duration\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!pilihJam) {\n      // Calculate based on dates\n      if (tanggalMulai && tanggalSelesai) {\n        const start = new Date(tanggalMulai);\n        const end = new Date(tanggalSelesai);\n\n        // Set time to start of day for accurate day calculation\n        start.setHours(0, 0, 0, 0);\n        end.setHours(0, 0, 0, 0);\n        const diffTime = Math.abs(end.getTime() - start.getTime());\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1; // +1 to include both start and end date\n        const diffHours = diffDays * 8; // Assuming 8 working hours per day\n\n        setValue('durasiJam', diffHours);\n        setValue('durasiHari', diffDays);\n      } else {\n        setValue('durasiJam', 0);\n        setValue('durasiHari', 0);\n      }\n    } else {\n      // Calculate based on time\n      if (jamMulai && jamSelesai && tanggalMulai && tanggalSelesai) {\n        const start = new Date(tanggalMulai);\n        const end = new Date(tanggalSelesai);\n        const [startHour, startMin] = jamMulai.split(':').map(Number);\n        const [endHour, endMin] = jamSelesai.split(':').map(Number);\n        let breakTime = 1;\n        if (startHour > 12) {\n          breakTime = 0;\n        }\n        start.setHours(startHour, startMin, 0, 0);\n        end.setHours(endHour, endMin, 0, 0);\n        const diffTime = Math.abs(end.getTime() - start.getTime());\n        let diffHours = diffTime / (1000 * 60 * 60); // Convert to hours\n\n        // Subtract 1 hour for lunch break (istirahat)\n        diffHours = Math.max(0, diffHours - breakTime);\n        setValue('durasiJam', Math.round(diffHours * 10) / 10); // Round to 1 decimal\n        setValue('durasiHari', 0);\n      } else {\n        setValue('durasiJam', 0);\n        setValue('durasiHari', 0);\n      }\n    }\n  }, [tanggalMulai, tanggalSelesai, pilihJam, jamMulai, jamSelesai, setValue]);\n\n  // Reset jam fields when switch changes and auto-set tanggalSelesai\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!pilihJam) {\n      setValue('jamMulai', '');\n      setValue('jamSelesai', '');\n    } else {\n      // When Pilih Jam = Ya, set tanggalSelesai = tanggalMulai\n      if (tanggalMulai) {\n        setValue('tanggalSelesai', tanggalMulai);\n      }\n    }\n  }, [pilihJam, tanggalMulai, setValue]);\n\n  // File validation function\n  const validateFile = file => {\n    // Allowed file types\n    const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'application/msword',\n    // .doc\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document' // .docx\n    ];\n    const allowedExtensions = ['.pdf', '.jpg', '.jpeg', '.png', '.gif', '.webp', '.doc', '.docx'];\n\n    // Check file type\n    if (!allowedTypes.includes(file.type)) {\n      // Check by extension if MIME type check fails\n      const fileExtension = file.name.toLowerCase().substring(file.name.lastIndexOf('.'));\n      if (!allowedExtensions.includes(fileExtension)) {\n        return 'Tipe file tidak valid. Hanya file PDF, gambar (JPG, PNG, GIF, WEBP), dan dokumen Word (DOC, DOCX) yang diperbolehkan.';\n      }\n    }\n\n    // Check file size (max 1MB)\n    const maxSize = 1 * 1024 * 1024; // 1MB in bytes\n    if (file.size > maxSize) {\n      return 'Ukuran file terlalu besar. Maksimal 1MB.';\n    }\n    return null;\n  };\n\n  // Convert file to base64\n  const fileToBase64 = file => new Promise((resolve, reject) => {\n    // check iff file is blob\n    if (!(file instanceof Blob)) {\n      resolve(null);\n      return;\n    }\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n\n  // Handle file change\n  const handleFileChange = async event => {\n    const file = event.target.files?.[0];\n    if (!file) {\n      setFileError('');\n      setValue('uploadedFile', null);\n      return;\n    }\n    const error = validateFile(file);\n    if (error) {\n      setFileError(error);\n      event.target.value = ''; // Reset input\n      setValue('uploadedFile', null);\n    } else {\n      try {\n        // Convert file to base64\n        const base64String = await fileToBase64(file);\n\n        // Ensure we have a valid string result\n        if (!base64String || typeof base64String !== 'string') {\n          throw new Error('Failed to convert file to base64');\n        }\n\n        // Store base64 string with file metadata\n        const fileData = {\n          value: base64String.split('base64,')[1] || base64String,\n          name: file.name,\n          size: file.size,\n          type: file.type\n        };\n        setFileError('');\n        setValue('uploadedFile', fileData);\n      } catch (error) {\n        setFileError('Gagal membaca file. Silakan coba lagi.');\n        event.target.value = '';\n        setValue('uploadedFile', null);\n      }\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '1rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(2, 1fr)',\n      gap: '1rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Tanggal Mulai Izin \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      color: '#ef4444'\n    }\n  }, \"*\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"tanggalMulai\",\n    control: control,\n    rules: {\n      required: 'Tanggal mulai wajib diisi'\n    },\n    render: ({\n      field,\n      fieldState\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__.Input, _extends({\n      type: \"date\",\n      style: {\n        fontSize: '0.875rem',\n        width: '100%'\n      },\n      min: minDate\n    }, field)), fieldState.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#ef4444',\n        marginTop: '0.25rem'\n      }\n    }, fieldState.error.message))\n  })), !pilihJam && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Tanggal Selesai Izin \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      color: '#ef4444'\n    }\n  }, \"*\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"tanggalSelesai\",\n    control: control,\n    rules: {\n      required: !pilihJam ? 'Tanggal selesai wajib diisi' : false\n    },\n    render: ({\n      field,\n      fieldState\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__.Input, _extends({\n      type: \"date\",\n      style: {\n        fontSize: '0.875rem',\n        width: '100%'\n      },\n      min: tanggalMulai || minDate\n    }, field)), fieldState.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#ef4444',\n        marginTop: '0.25rem'\n      }\n    }, fieldState.error.message))\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Pilih Jam\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"pilihJam\",\n    control: control,\n    defaultValue: false,\n    render: ({\n      field\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '0.75rem'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      type: \"button\",\n      onClick: () => field.onChange(!field.value),\n      style: {\n        position: 'relative',\n        display: 'inline-flex',\n        height: '1.5rem',\n        width: '2.75rem',\n        alignItems: 'center',\n        borderRadius: '9999px',\n        transition: 'background-color 0.2s',\n        outline: 'none',\n        backgroundColor: field.value ? '#2563eb' : '#d1d5db',\n        border: 'none',\n        cursor: 'pointer'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      style: {\n        display: 'inline-block',\n        height: '1rem',\n        width: '1rem',\n        transform: field.value ? 'translateX(1.5rem)' : 'translateX(0.25rem)',\n        borderRadius: '9999px',\n        backgroundColor: 'white',\n        transition: 'transform 0.2s'\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      style: {\n        fontSize: '0.875rem',\n        color: '#374151'\n      }\n    }, field.value ? 'Ya' : 'Tidak'))\n  })), pilihJam && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(2, 1fr)',\n      gap: '1rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Jam Mulai Izin \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      color: '#ef4444'\n    }\n  }, \"*\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"jamMulai\",\n    control: control,\n    rules: {\n      required: pilihJam ? 'Jam mulai wajib diisi' : false\n    },\n    render: ({\n      field,\n      fieldState\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"select\", _extends({\n      key: `jam-mulai-${jamMulaiOptions.length}-${jamMulaiOptions[0] || 'empty'}`,\n      style: {\n        fontSize: '0.875rem',\n        width: '100%',\n        padding: '0.5rem 0.75rem',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.375rem',\n        outline: 'none'\n      }\n    }, field), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n      value: \"\"\n    }, \"Pilih jam mulai\"), jamMulaiOptions.map(time => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n      key: time,\n      value: time\n    }, time))), fieldState.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#ef4444',\n        marginTop: '0.25rem'\n      }\n    }, fieldState.error.message))\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Jam Selesai Izin \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    style: {\n      color: '#ef4444'\n    }\n  }, \"*\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"jamSelesai\",\n    control: control,\n    rules: {\n      required: pilihJam ? 'Jam selesai wajib diisi' : false\n    },\n    render: ({\n      field,\n      fieldState\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"select\", _extends({\n      key: `jam-selesai-${jamSelesaiOptions.length}-${jamSelesaiOptions[0] || 'empty'}`,\n      style: {\n        fontSize: '0.875rem',\n        width: '100%',\n        padding: '0.5rem 0.75rem',\n        border: '1px solid #d1d5db',\n        borderRadius: '0.375rem',\n        outline: 'none'\n      }\n    }, field, {\n      disabled: !jamMulai\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n      value: \"\"\n    }, \"Pilih jam selesai\"), jamSelesaiOptions.map(time => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n      key: time,\n      value: time\n    }, time))), fieldState.error && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#ef4444',\n        marginTop: '0.25rem'\n      }\n    }, fieldState.error.message))\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(2, 1fr)',\n      gap: '1rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Durasi Izin (Jam)\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"durasiJam\",\n    control: control,\n    render: ({\n      field\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__.Input, _extends({\n      type: \"number\",\n      style: {\n        fontSize: '0.875rem',\n        width: '100%',\n        backgroundColor: '#f9fafb'\n      },\n      disabled: true\n    }, field, {\n      value: field.value || 0\n    })), pilihJam && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      style: {\n        fontSize: '0.75rem',\n        color: '#6b7280',\n        marginTop: '0.25rem'\n      }\n    }, \"* Sudah dikurangi 1 jam istirahat\"))\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    style: {\n      display: 'block',\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      marginBottom: '0.25rem'\n    }\n  }, \"Durasi Izin (Hari)\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"durasiHari\",\n    control: control,\n    render: ({\n      field\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(alurkerja_ui__WEBPACK_IMPORTED_MODULE_2__.Input, _extends({\n      type: \"number\",\n      style: {\n        fontSize: '0.875rem',\n        width: '100%',\n        backgroundColor: '#f9fafb'\n      },\n      disabled: true\n    }, field, {\n      value: field.value || 0\n    }))\n  }))), durasiJam === 0 && durasiHari === 0 && (tanggalMulai || tanggalSelesai || jamMulai || jamSelesai) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      padding: '0.75rem 1rem',\n      backgroundColor: '#fef3c7',\n      border: '1px solid #fbbf24',\n      borderRadius: '0.375rem',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '0.5rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    style: {\n      width: '1.25rem',\n      height: '1.25rem',\n      color: '#f59e0b',\n      flexShrink: 0\n    },\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      flex: 1\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n    style: {\n      fontSize: '0.875rem',\n      fontWeight: '500',\n      color: '#92400e',\n      margin: 0\n    }\n  }, \"Peringatan: Durasi izin tidak valid\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n    style: {\n      fontSize: '0.75rem',\n      color: '#78350f',\n      margin: '0.25rem 0 0 0'\n    }\n  }, !pilihJam ? 'Silakan pilih tanggal mulai dan tanggal selesai yang valid. Tanggal selesai harus sama atau setelah tanggal mulai.' : 'Silakan pilih jam mulai dan jam selesai yang valid. Jam selesai harus setelah jam mulai.'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"flex flex-col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"mr-1 font-medium after:content-['*'] after:text-red-400 after:text-sm\"\n  }, \"Upload Dokumen Pendukung\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"text-sm text-gray-600 my-2\"\n  }, \"Max File size 1 MB\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hook_form__WEBPACK_IMPORTED_MODULE_1__.Controller, {\n    name: \"uploadedFile\",\n    control: control,\n    rules: {\n      required: 'File dokumen wajib diupload',\n      validate: value => {\n        if (!value) return 'File dokumen wajib diupload';\n        // Check if it's our file data object with base64\n        if (value && typeof value === 'object' && 'base64' in value && 'name' in value) {\n          return true;\n        }\n        return 'File tidak valid';\n      }\n    },\n    render: ({\n      fieldState\n    }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex flex-col w-full gap-4\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"alurkerja-form w-full flex flex-col justify-center items-center cursor-pointer rounded border-2 border-gray-200 border-dashed\",\n      onClick: () => document.getElementById('file-upload-input')?.click()\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n      id: \"file-upload-input\",\n      type: \"file\",\n      accept: \"image/jpeg,.jpg,image/png,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.doc,.docx\",\n      onChange: handleFileChange,\n      style: {\n        display: 'none'\n      },\n      tabIndex: -1\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex flex-col items-center justify-center gap-2 pt-5 pb-6\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\",\n      viewBox: \"0 0 512 512\",\n      height: \"2em\",\n      width: \"2em\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      className: \"text-gray-400\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n      d: \"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      className: \"text-sm text-gray-500 dark:text-gray-400\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"font-semibold\"\n    }, \"Klik untuk mengunggah, atau drag file\")))), uploadedFile && typeof uploadedFile === 'object' && 'name' in uploadedFile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"text-gray-600 border-2 border-b-0 border-gray-200 rounded\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex items-center justify-between p-2 border-b-2\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex items-center gap-x-2\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\",\n      viewBox: \"0 0 384 512\",\n      height: \"1em\",\n      width: \"1em\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n      d: \"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, uploadedFile.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex items-center gap-x-2\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, (uploadedFile.size / 1024).toFixed(2), \" KB\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"cursor-pointer\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\",\n      viewBox: \"0 0 24 24\",\n      height: \"1em\",\n      width: \"1em\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n      fill: \"none\",\n      d: \"M0 0h24v24H0z\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n      d: \"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z\"\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      type: \"button\",\n      onClick: e => {\n        e.stopPropagation();\n        setValue('uploadedFile', null);\n        setFileError('');\n        const fileInput = document.getElementById('file-upload-input');\n        if (fileInput) fileInput.value = '';\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\",\n      viewBox: \"0 0 448 512\",\n      height: \"1em\",\n      width: \"1em\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n      d: \"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z\"\n    })))))), (fieldState.error || fileError) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", {\n      className: \"text-xs text-red-500 mt-2\"\n    }, fieldState.error?.message || fileError))\n  })));\n}\n\n//# sourceURL=webpack://mockapi_view/./src/IzinWithFileFormView.tsx?");

/***/ })

}]);